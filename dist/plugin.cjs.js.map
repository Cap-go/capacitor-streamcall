{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst StreamCall = registerPlugin('StreamCall', {\n    web: () => import('./web').then((m) => new m.StreamCallWeb()),\n});\nexport * from './definitions';\nexport { StreamCall };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nimport { CallingState, StreamVideoClient } from '@stream-io/video-client';\nexport class StreamCallWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.videoBindings = new Map();\n        this.audioBindings = new Map();\n        this.participantResponses = new Map();\n        this.callMembersExpected = new Map();\n        this.ringCallback = (event) => {\n            var _a, _b, _c;\n            console.log('Call ringing', event, this.currentCall);\n            this.incomingCall = event.call;\n            // Extract caller information\n            let caller;\n            if ((_a = event.call) === null || _a === void 0 ? void 0 : _a.created_by) {\n                caller = {\n                    userId: event.call.created_by.id,\n                    name: event.call.created_by.name,\n                    imageURL: event.call.created_by.image,\n                    role: event.call.created_by.role,\n                };\n            }\n            // if (!this.currentCall) {\n            console.log('Creating new call', event.call.id);\n            this.currentCall = (_b = this.client) === null || _b === void 0 ? void 0 : _b.call(event.call.type, event.call.id);\n            // this.currentActiveCallId = this.currentCall?.cid;\n            setTimeout(() => {\n                this.notifyListeners('callEvent', {\n                    callId: event.call.id,\n                    state: CallingState.RINGING,\n                    caller,\n                });\n            }, 100);\n            // Clear previous responses when a new call starts\n            this.participantResponses.clear();\n            // }\n            if (this.currentCall) {\n                console.log('Call found', this.currentCall.id);\n                this.callStateSubscription = (_c = this.currentCall) === null || _c === void 0 ? void 0 : _c.state.callingState$.subscribe((s) => {\n                    var _a;\n                    console.log('Call state', s);\n                    if (s === CallingState.JOINED) {\n                        this.setupParticipantListener();\n                        this.setupCallEventListeners();\n                    }\n                    else if (s === CallingState.LEFT || s === CallingState.RECONNECTING_FAILED) {\n                        this.cleanupCall();\n                    }\n                    if (this.outgoingCall && s === CallingState.RINGING) {\n                        this.outgoingCall = undefined;\n                    }\n                    else {\n                        this.notifyListeners('callEvent', { callId: (_a = this.currentCall) === null || _a === void 0 ? void 0 : _a.id, state: s });\n                    }\n                });\n            }\n        };\n        this.callSessionStartedCallback = (event) => {\n            var _a, _b;\n            console.log('Call created (session started)', event);\n            if ((_b = (_a = event.call) === null || _a === void 0 ? void 0 : _a.session) === null || _b === void 0 ? void 0 : _b.participants) {\n                // Store the number of expected participants for this call\n                const callCid = event.call.cid;\n                const memberCount = event.call.session.participants.length;\n                console.log(`Call ${callCid} created with ${memberCount} members`);\n                this.callMembersExpected.set(callCid, memberCount);\n                // Store call members in callStates\n                this.callStates.set(callCid, {\n                    members: event.call.session.participants.map((p) => { var _a; return ({ user_id: ((_a = p.user) === null || _a === void 0 ? void 0 : _a.id) || '' }); }),\n                    participantResponses: new Map(),\n                    expectedMemberCount: memberCount,\n                    createdAt: new Date(),\n                });\n                // Start a timeout task that runs every second\n                const timeoutTask = setInterval(() => this.checkCallTimeout(callCid), 1000);\n                // Update the callState with the timeout task\n                const callState = this.callStates.get(callCid);\n                if (callState) {\n                    callState.timer = timeoutTask;\n                    this.callStates.set(callCid, callState);\n                }\n            }\n        };\n        this.callRejectedCallback = (event) => {\n            var _a;\n            console.log('Call rejected', event);\n            if ((_a = event.user) === null || _a === void 0 ? void 0 : _a.id) {\n                this.participantResponses.set(event.user.id, 'rejected');\n                // Update the combined callStates map\n                const callState = this.callStates.get(event.call_cid);\n                if (callState) {\n                    callState.participantResponses.set(event.user.id, 'rejected');\n                    this.callStates.set(event.call_cid, callState);\n                }\n                this.notifyListeners('callEvent', {\n                    callId: event.call_cid,\n                    state: 'rejected',\n                    userId: event.user.id,\n                });\n                this.checkAllParticipantsResponded();\n            }\n        };\n        this.callAcceptedCallback = (event) => {\n            var _a;\n            console.log('Call accepted', event);\n            if ((_a = event.user) === null || _a === void 0 ? void 0 : _a.id) {\n                this.participantResponses.set(event.user.id, 'accepted');\n                // Update the combined callStates map\n                const callState = this.callStates.get(event.call_cid);\n                if (callState) {\n                    callState.participantResponses.set(event.user.id, 'accepted');\n                    // If someone accepted, clear the timer as we don't need to check anymore\n                    if (callState.timer) {\n                        clearInterval(callState.timer);\n                        callState.timer = undefined;\n                    }\n                    this.callStates.set(event.call_cid, callState);\n                }\n                this.notifyListeners('callEvent', {\n                    callId: event.call_cid,\n                    state: 'accepted',\n                    userId: event.user.id,\n                });\n            }\n        };\n        this.callMissedCallback = (event) => {\n            var _a;\n            console.log('Call missed', event);\n            if ((_a = event.user) === null || _a === void 0 ? void 0 : _a.id) {\n                this.participantResponses.set(event.user.id, 'missed');\n                // Update the combined callStates map\n                const callState = this.callStates.get(event.call_cid);\n                if (callState) {\n                    callState.participantResponses.set(event.user.id, 'missed');\n                    this.callStates.set(event.call_cid, callState);\n                }\n                this.notifyListeners('callEvent', {\n                    callId: event.call_cid,\n                    state: 'missed',\n                    userId: event.user.id,\n                });\n                this.checkAllParticipantsResponded();\n            }\n        };\n        // Add a combined map for call states, mirroring the iOS implementation\n        this.callStates = new Map();\n    }\n    //  private currentActiveCallId?: string;\n    setupCallRingListener() {\n        var _a, _b, _c, _d;\n        (_a = this.client) === null || _a === void 0 ? void 0 : _a.off('call.ring', this.ringCallback);\n        (_b = this.client) === null || _b === void 0 ? void 0 : _b.off('call.session_started', this.callSessionStartedCallback);\n        (_c = this.client) === null || _c === void 0 ? void 0 : _c.on('call.ring', this.ringCallback);\n        (_d = this.client) === null || _d === void 0 ? void 0 : _d.on('call.session_started', this.callSessionStartedCallback);\n    }\n    setupCallEventListeners() {\n        var _a, _b, _c, _d, _e, _f;\n        // Clear previous listeners if any\n        (_a = this.client) === null || _a === void 0 ? void 0 : _a.off('call.rejected', this.callRejectedCallback);\n        (_b = this.client) === null || _b === void 0 ? void 0 : _b.off('call.accepted', this.callAcceptedCallback);\n        (_c = this.client) === null || _c === void 0 ? void 0 : _c.off('call.missed', this.callMissedCallback);\n        // Register event listeners\n        (_d = this.client) === null || _d === void 0 ? void 0 : _d.on('call.rejected', this.callRejectedCallback);\n        (_e = this.client) === null || _e === void 0 ? void 0 : _e.on('call.accepted', this.callAcceptedCallback);\n        (_f = this.client) === null || _f === void 0 ? void 0 : _f.on('call.missed', this.callMissedCallback);\n    }\n    setupParticipantListener() {\n        // Subscribe to participant changes\n        this.incomingCall = undefined;\n        if (!this.currentCall)\n            return;\n        this.participantJoinedListener = (event) => {\n            if (this.magicDivId && event.participant) {\n                const magicDiv = document.getElementById(this.magicDivId);\n                if (magicDiv && this.currentCall) {\n                    this.setupParticipantVideo(this.currentCall, event.participant, magicDiv);\n                    this.setupParticipantAudio(this.currentCall, event.participant, magicDiv);\n                }\n            }\n        };\n        this.participantLeftListener = (event) => {\n            var _a, _b, _c;\n            if (this.magicDivId && event.participant) {\n                const videoId = `video-${event.participant.sessionId}`;\n                const audioId = `audio-${event.participant.sessionId}`;\n                // Remove video element\n                const videoEl = document.getElementById(videoId);\n                if (videoEl) {\n                    const unbindVideo = this.videoBindings.get(videoId);\n                    if (unbindVideo) {\n                        unbindVideo();\n                        this.videoBindings.delete(videoId);\n                    }\n                    const tracks = videoEl.srcObject;\n                    if (tracks) {\n                        tracks.getTracks().forEach((track) => {\n                            track.stop();\n                        });\n                    }\n                    videoEl.srcObject = null;\n                    videoEl.remove();\n                }\n                // Remove audio element\n                const audioEl = document.getElementById(audioId);\n                if (audioEl) {\n                    const unbindAudio = this.audioBindings.get(audioId);\n                    if (unbindAudio) {\n                        unbindAudio();\n                        this.audioBindings.delete(audioId);\n                    }\n                    const tracks = audioEl.srcObject;\n                    if (tracks) {\n                        tracks.getTracks().forEach((track) => {\n                            track.stop();\n                        });\n                    }\n                    audioEl.srcObject = null;\n                    audioEl.remove();\n                }\n            }\n            // Check if we're the only participant left in the call\n            if ((_a = this.currentCall) === null || _a === void 0 ? void 0 : _a.state.session) {\n                // Get the remaining participants count (we need to subtract 1 as we haven't been removed from the list yet)\n                const remainingParticipants = this.currentCall.state.session.participants.length - 1;\n                // If we're the only one left, end the call\n                if (remainingParticipants <= 1) {\n                    console.log(`We are left solo in a call. Ending. cID: ${this.currentCall.cid}`);\n                    // End the call\n                    this.currentCall.leave();\n                    // Clean up resources\n                    const callCid = this.currentCall.cid;\n                    // Invalidate and remove timer\n                    const callState = (_b = this.callStates) === null || _b === void 0 ? void 0 : _b.get(callCid);\n                    if (callState === null || callState === void 0 ? void 0 : callState.timer) {\n                        clearInterval(callState.timer);\n                    }\n                    // Remove from callStates\n                    (_c = this.callStates) === null || _c === void 0 ? void 0 : _c.delete(callCid);\n                    // Reset the current call\n                    this.currentCall = undefined;\n                    // this.currentActiveCallId = undefined;\n                    // Clean up\n                    this.cleanupCall();\n                    console.log(`Cleaned up resources for ended call: ${callCid}`);\n                    // Notify that the call has ended\n                    this.notifyListeners('callEvent', {\n                        callId: callCid,\n                        state: 'left',\n                        reason: 'participant_left',\n                    });\n                }\n            }\n        };\n        this.currentCall.on('participantJoined', this.participantJoinedListener);\n        this.currentCall.on('participantLeft', this.participantLeftListener);\n        // Setup initial participants\n        const participants = this.currentCall.state.participants;\n        if (this.magicDivId) {\n            const magicDiv = document.getElementById(this.magicDivId);\n            if (magicDiv) {\n                participants.forEach((participant) => {\n                    if (this.currentCall) {\n                        this.setupParticipantVideo(this.currentCall, participant, magicDiv);\n                        this.setupParticipantAudio(this.currentCall, participant, magicDiv);\n                    }\n                });\n            }\n        }\n    }\n    setupParticipantVideo(call, participant, container) {\n        const id = `video-${participant.sessionId}`;\n        if (!document.getElementById(id)) {\n            const videoEl = document.createElement('video');\n            videoEl.id = id;\n            videoEl.style.width = '100%';\n            videoEl.style.maxWidth = '300px';\n            videoEl.style.aspectRatio = '16/9';\n            container.appendChild(videoEl);\n            const unbind = call.bindVideoElement(videoEl, participant.sessionId, 'videoTrack');\n            if (unbind)\n                this.videoBindings.set(id, unbind);\n        }\n    }\n    setupParticipantAudio(call, participant, container) {\n        if (participant.isLocalParticipant)\n            return;\n        const id = `audio-${participant.sessionId}`;\n        if (!document.getElementById(id)) {\n            const audioEl = document.createElement('audio');\n            audioEl.id = id;\n            container.appendChild(audioEl);\n            const unbind = call.bindAudioElement(audioEl, participant.sessionId);\n            if (unbind)\n                this.audioBindings.set(id, unbind);\n        }\n    }\n    checkCallTimeout(callCid) {\n        const callState = this.callStates.get(callCid);\n        if (!callState)\n            return;\n        // Calculate time elapsed since call creation\n        const now = new Date();\n        const elapsedSeconds = (now.getTime() - callState.createdAt.getTime()) / 1000;\n        // Check if 30 seconds have passed\n        if (elapsedSeconds >= 30) {\n            console.log(`Call ${callCid} has timed out after ${elapsedSeconds} seconds`);\n            // Check if anyone has accepted\n            const hasAccepted = Array.from(callState.participantResponses.values()).some((response) => response === 'accepted');\n            if (!hasAccepted) {\n                console.log(`No one accepted call ${callCid}, marking all non-responders as missed`);\n                // Mark all members who haven't responded as \"missed\"\n                callState.members.forEach((member) => {\n                    if (!callState.participantResponses.has(member.user_id)) {\n                        callState.participantResponses.set(member.user_id, 'missed');\n                        this.participantResponses.set(member.user_id, 'missed');\n                        this.notifyListeners('callEvent', {\n                            callId: callCid,\n                            state: 'missed',\n                            userId: member.user_id,\n                        });\n                    }\n                });\n                // End the call\n                if (this.currentCall && this.currentCall.cid === callCid) {\n                    this.currentCall.leave();\n                }\n                // Clear the timeout task\n                if (callState.timer) {\n                    clearInterval(callState.timer);\n                    callState.timer = undefined;\n                }\n                // Remove from callStates\n                this.callStates.delete(callCid);\n                // Clean up\n                this.cleanupCall();\n                // Notify that the call has ended\n                this.notifyListeners('callEvent', {\n                    callId: callCid,\n                    state: 'ended',\n                    reason: 'timeout',\n                });\n            }\n        }\n    }\n    checkAllParticipantsResponded() {\n        if (!this.currentCall)\n            return;\n        const callCid = this.currentCall.cid;\n        const totalParticipants = this.callMembersExpected.get(callCid);\n        if (!totalParticipants) {\n            console.log(`No expected participant count found for call: ${callCid}`);\n            return;\n        }\n        console.log(`Total expected participants: ${totalParticipants}`);\n        // Count rejections and misses\n        let rejectedOrMissedCount = 0;\n        this.participantResponses.forEach((response) => {\n            if (response === 'rejected' || response === 'missed') {\n                rejectedOrMissedCount++;\n            }\n        });\n        console.log(`Participants responded: ${this.participantResponses.size}/${totalParticipants}`);\n        console.log(`Rejected or missed: ${rejectedOrMissedCount}`);\n        const allResponded = this.participantResponses.size >= totalParticipants;\n        const allRejectedOrMissed = allResponded &&\n            Array.from(this.participantResponses.values()).every((response) => response === 'rejected' || response === 'missed');\n        // If all participants have rejected or missed the call\n        if (allResponded && allRejectedOrMissed) {\n            console.log('All participants have rejected or missed the call');\n            // End the call\n            this.currentCall.leave();\n            // Clean up the timer if exists in callStates\n            const callState = this.callStates.get(callCid);\n            if (callState === null || callState === void 0 ? void 0 : callState.timer) {\n                clearInterval(callState.timer);\n            }\n            // Remove from callStates\n            this.callStates.delete(callCid);\n            // Clear the responses\n            this.participantResponses.clear();\n            // Clean up\n            this.cleanupCall();\n            // Notify that the call has ended\n            this.notifyListeners('callEvent', {\n                callId: callCid,\n                state: 'ended',\n                reason: 'all_rejected_or_missed',\n            });\n        }\n    }\n    cleanupCall() {\n        var _a;\n        // First cleanup the call listeners\n        if (this.currentCall) {\n            if (this.participantJoinedListener) {\n                this.currentCall.off('participantJoined', this.participantJoinedListener);\n                this.participantJoinedListener = undefined;\n            }\n            if (this.participantLeftListener) {\n                this.currentCall.off('participantLeft', this.participantLeftListener);\n                this.participantLeftListener = undefined;\n            }\n            (_a = this.callStateSubscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n        }\n        if (this.magicDivId) {\n            const magicDiv = document.getElementById(this.magicDivId);\n            if (magicDiv) {\n                // Remove all video elements\n                const videoElements = magicDiv.querySelectorAll('video');\n                videoElements.forEach((video) => {\n                    const id = video.id;\n                    const unbind = this.videoBindings.get(id);\n                    if (unbind) {\n                        unbind();\n                        this.videoBindings.delete(id);\n                    }\n                    // Stop all tracks\n                    const tracks = video.srcObject;\n                    if (tracks) {\n                        tracks.getTracks().forEach((track) => {\n                            track.stop();\n                            track.enabled = false;\n                        });\n                        video.srcObject = null;\n                    }\n                    video.remove();\n                });\n                // Remove all audio elements\n                const audioElements = magicDiv.querySelectorAll('audio');\n                audioElements.forEach((audio) => {\n                    const id = audio.id;\n                    const unbind = this.audioBindings.get(id);\n                    if (unbind) {\n                        unbind();\n                        this.audioBindings.delete(id);\n                    }\n                    // Stop all tracks\n                    const tracks = audio.srcObject;\n                    if (tracks) {\n                        tracks.getTracks().forEach((track) => {\n                            track.stop();\n                            track.enabled = false;\n                        });\n                        audio.srcObject = null;\n                    }\n                    audio.remove();\n                });\n                // Clear the container\n                while (magicDiv.firstChild) {\n                    magicDiv.removeChild(magicDiv.firstChild);\n                }\n            }\n        }\n        // Clear all bindings\n        this.videoBindings.clear();\n        this.audioBindings.clear();\n        // Clear call references\n        this.currentCall = undefined;\n        this.incomingCall = undefined;\n    }\n    async login(options) {\n        this.client = StreamVideoClient.getOrCreateInstance({\n            apiKey: options.apiKey,\n            user: { id: options.userId, name: options.name, image: options.imageURL },\n            token: options.token,\n        });\n        // Store current user data\n        this.currentUser = {\n            userId: options.userId,\n            name: options.name,\n            imageURL: options.imageURL,\n        };\n        this.magicDivId = options.magicDivId;\n        this.setupCallRingListener();\n        return { success: true };\n    }\n    async logout() {\n        var _a;\n        if (!this.client) {\n            console.log('No client', this.client);\n            throw new Error('Client not initialized');\n        }\n        // Cleanup subscription\n        (_a = this.callStateSubscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n        this.callStateSubscription = undefined;\n        await this.client.disconnectUser();\n        this.client = undefined;\n        this.currentUser = undefined;\n        this.currentCall = undefined;\n        return { success: true };\n    }\n    async call(options) {\n        if (!this.client) {\n            console.log('No client', this.client);\n            throw new Error('Client not initialized - Please login first');\n        }\n        const call = this.client.call(options.type || 'default', crypto.randomUUID());\n        const members = options.userIds.map((userId) => ({ user_id: userId }));\n        if (this.client.streamClient.userID && !options.userIds.includes(this.client.streamClient.userID)) {\n            members.push({ user_id: this.client.streamClient.userID });\n        }\n        await call.getOrCreate({ data: { members, team: options.team } });\n        // Store the expected member count for this call\n        // -1, because we don't count the caller themselves\n        this.callMembersExpected.set(call.cid, members.length);\n        console.log(`Setting expected members for call ${call.cid}: ${members.length}`);\n        this.currentCall = call;\n        if (options.ring) {\n            this.outgoingCall = call.cid;\n            await call.ring();\n        }\n        await call.join();\n        return { success: true };\n    }\n    async endCall() {\n        if (!this.currentCall) {\n            console.log('No active call', this.currentCall);\n            throw new Error('No active call');\n        }\n        await this.currentCall.leave();\n        this.currentCall = undefined;\n        this.cleanupCall();\n        return { success: true };\n    }\n    async setMicrophoneEnabled(options) {\n        if (!this.currentCall) {\n            console.log('No active call', this.currentCall);\n            throw new Error('No active call');\n        }\n        if (options.enabled) {\n            await this.currentCall.microphone.enable();\n        }\n        else {\n            await this.currentCall.microphone.disable();\n        }\n        return { success: true };\n    }\n    async setCameraEnabled(options) {\n        if (!this.currentCall) {\n            console.log('No active call', this.currentCall);\n            throw new Error('No active call');\n        }\n        if (options.enabled) {\n            await this.currentCall.camera.enable();\n        }\n        else {\n            await this.currentCall.camera.disable();\n        }\n        return { success: true };\n    }\n    async setSpeaker(options) {\n        if (!this.currentCall) {\n            console.log('No active call', this.currentCall);\n            throw new Error('No active call');\n        }\n        await this.currentCall.speaker.select(options.name);\n        return { success: true };\n    }\n    async switchCamera(options) {\n        if (!this.currentCall) {\n            console.log('No active call', this.currentCall);\n            throw new Error('No active call');\n        }\n        if (options.camera === 'front') {\n            await this.currentCall.camera.selectDirection('front');\n        }\n        else {\n            await this.currentCall.camera.selectDirection('back');\n        }\n        return { success: true };\n    }\n    async acceptCall() {\n        if (!this.incomingCall || !this.client) {\n            console.log('No incoming call to accept', this.incomingCall, this.client);\n            throw new Error('No incoming call to accept');\n        }\n        console.log('Accepting call', this.incomingCall);\n        const call = this.client.call(this.incomingCall.type, this.incomingCall.id);\n        this.currentCall = call;\n        console.log('Joining call', call);\n        await call.accept();\n        await call.join();\n        console.log('Joined call', call);\n        this.notifyListeners('callEvent', { callId: call.id, state: CallingState.JOINED });\n        this.setupParticipantListener();\n        return { success: true };\n    }\n    async rejectCall() {\n        if (!this.incomingCall || !this.client) {\n            console.log('No incoming call to reject', this.incomingCall, this.client);\n            throw new Error('No incoming call to reject');\n        }\n        console.log('Rejecting call', this.incomingCall);\n        const call = this.client.call(this.incomingCall.type, this.incomingCall.id);\n        console.log('Leaving call', call);\n        await call.reject();\n        this.incomingCall = undefined;\n        console.log('Rejected call', call);\n        this.notifyListeners('callEvent', { callId: call.id, state: CallingState.LEFT });\n        this.cleanupCall();\n        return { success: true };\n    }\n    async isCameraEnabled() {\n        if (!this.currentCall) {\n            console.log('No active call', this.currentCall);\n            throw new Error('No active call');\n        }\n        const enabled = await this.currentCall.camera.enabled;\n        return { enabled };\n    }\n    async getCallInfo(options) {\n        var _a;\n        if (!this.currentCall) {\n            throw new Error('No active call');\n        }\n        if (this.currentCall.id !== options.callId) {\n            throw new Error('Call ID does not match active call');\n        }\n        const callingState = this.currentCall.state.callingState;\n        let state;\n        switch (callingState) {\n            case CallingState.IDLE:\n                state = 'idle';\n                break;\n            case CallingState.RINGING:\n                state = 'ringing';\n                break;\n            case CallingState.JOINING:\n                state = 'joining';\n                break;\n            case CallingState.RECONNECTING:\n                state = 'reconnecting';\n                break;\n            case CallingState.JOINED:\n                state = 'joined';\n                break;\n            case CallingState.LEFT:\n                state = 'left';\n                break;\n            default:\n                state = 'unknown';\n        }\n        // Try to get caller information from the call\n        let caller;\n        let members = [];\n        try {\n            // Get call details\n            const callDetails = await this.currentCall.get();\n            if ((_a = callDetails === null || callDetails === void 0 ? void 0 : callDetails.call) === null || _a === void 0 ? void 0 : _a.created_by) {\n                caller = {\n                    userId: callDetails.call.created_by.id,\n                    name: callDetails.call.created_by.name,\n                    imageURL: callDetails.call.created_by.image,\n                    role: callDetails.call.created_by.role,\n                };\n            }\n            // Get current participants\n            if (this.currentCall.state.participants) {\n                members = this.currentCall.state.participants.map((participant) => {\n                    var _a;\n                    return ({\n                        userId: participant.userId,\n                        name: participant.name,\n                        imageURL: participant.image,\n                        role: (_a = participant.roles) === null || _a === void 0 ? void 0 : _a[0],\n                    });\n                });\n            }\n        }\n        catch (error) {\n            console.warn('Failed to get call details:', error);\n        }\n        return {\n            callId: this.currentCall.id,\n            state,\n            caller,\n            members,\n        };\n    }\n    async getCallStatus() {\n        if (!this.currentCall) {\n            throw new Error('No active call');\n        }\n        const callingState = this.currentCall.state.callingState;\n        let state;\n        switch (callingState) {\n            case CallingState.IDLE:\n                state = 'idle';\n                break;\n            case CallingState.RINGING:\n                state = 'ringing';\n                break;\n            case CallingState.JOINING:\n                state = 'joining';\n                break;\n            case CallingState.RECONNECTING:\n                state = 'reconnecting';\n                break;\n            case CallingState.JOINED:\n                state = 'joined';\n                break;\n            case CallingState.LEFT:\n                state = 'left';\n                break;\n            default:\n                state = 'unknown';\n        }\n        return {\n            callId: this.currentCall.id,\n            state,\n        };\n    }\n    async setDynamicStreamVideoApikey(_options) {\n        throw new Error('setDynamicStreamVideoApikey is not implemented on web platform');\n    }\n    async getDynamicStreamVideoApikey() {\n        throw new Error('getDynamicStreamVideoApikey is not implemented on web platform');\n    }\n    async getCurrentUser() {\n        if (this.currentUser && this.client) {\n            return {\n                userId: this.currentUser.userId,\n                name: this.currentUser.name,\n                imageURL: this.currentUser.imageURL || '',\n                isLoggedIn: true,\n            };\n        }\n        else {\n            return {\n                userId: '',\n                name: '',\n                imageURL: '',\n                isLoggedIn: false,\n            };\n        }\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin","CallingState","StreamVideoClient"],"mappings":"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"}